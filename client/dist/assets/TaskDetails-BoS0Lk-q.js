import{G as y,e as b,r as g,j as e,L as v,f as u,P as w,g as C,h as T,M as A,B as S,i as M,k as H,l as L,F as D,A as f,m as Z,n as P,o as z,p as B,q as I,t as E}from"./index-DP8FjTfo.js";import{T as F}from"./Tabs-UyfG_Ys0.js";import{u as K,a as O}from"./taskApiSlice-CQVkAHk5.js";import"bcryptjs";function R(r){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M1,1 L23,1 M10,4.5 L14,4.5 C14,4.5 14,6 14,6 C14,7 12,8 12,8 C12,8 10,7 10,6 C10,6 10,4.5 10,4.5 Z M5,1 C5,1 5,3 5,6 C5,9 10,9.23530084 10,12 C10,14.7646992 5.00000001,15 5,18 C4.99999999,21 5,23 5,23 M19,1 C19,1 19,3 19,6 C19,9 14,9.23530084 14,12 C14,14.7646992 19,15 19,18 C19,21 19,23 19,23 M1,23 L23,23 M8,21 C8,19 12,17 12,17 C12,17 16,19 16,21 C16,21 16,23 16,23 L8,23 L8,21 Z"},child:[]}]})(r)}function U(r){return y({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:"currentColor"},child:[]}]})(r)}const G={high:e.jsx(M,{}),medium:e.jsx(H,{}),low:e.jsx(L,{})},Y={high:"bg-red-200",medium:"bg-yellow-200",low:"bg-blue-200"},_=[{title:"Task Detail",icon:e.jsx(D,{})},{title:"Activities/Timeline",icon:e.jsx(U,{})}],q={commented:e.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-500 flex items-center justify-center text-white",children:[e.jsx(P,{}),","]}),started:e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white",children:e.jsx(z,{size:20})}),assigned:e.jsx("div",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-500 text-white",children:e.jsx(B,{size:14})}),bug:e.jsx("div",{className:"text-red-600",children:e.jsx(I,{size:24})}),completed:e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center text-white",children:e.jsx(E,{size:24})}),"in progress":e.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-violet-600 text-white",children:e.jsx(R,{size:16})})},N=["Started","Completed","In Progress","Commented","Bug","Assigned"],$=()=>{var x,o,h,m,l,t;const{id:r}=b(),{data:c,isLoading:p,refetch:i}=K(r),[j,d]=g.useState(0),s=c==null?void 0:c.task;return p?e.jsx("div",{className:"py-10",children:e.jsx(v,{})}):e.jsxs("div",{className:"w-full flex flex-col gap-3 mb-4 overflow-y-hidden",children:[e.jsx("h1",{className:"text-2xl text-gray-600 font-bold",children:s==null?void 0:s.title}),e.jsx(F,{tabs:_,setSelected:d,children:j===0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-5 2xl:gap-8 bg-white shadow-md p-8 overflow-y-auto",children:[e.jsxs("div",{className:"w-full md:w-1/2 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:u("flex gap-1 items-center text-base font-semibold px-3 py-1 rounded-full",w[s==null?void 0:s.priority],Y[s==null?void 0:s.priority]),children:[e.jsx("span",{className:"text-lg",children:G[s==null?void 0:s.priority]}),e.jsxs("span",{className:"uppercase",children:[s==null?void 0:s.priority," Priority"]})]}),e.jsxs("div",{className:u("flex items-center gap-2"),children:[e.jsx("div",{className:u("w-4 h-4 rounded-full",C[s.stage])}),e.jsx("span",{className:"text-black uppercase",children:s==null?void 0:s.stage})]})]}),e.jsxs("p",{className:"text-gray-500",children:["Created At: ",new Date(s==null?void 0:s.date).toDateString()]}),e.jsxs("div",{className:"flex items-center gap-8 p-4 border-y border-gray-200",children:[e.jsxs("div",{className:"space-x-2",children:[e.jsx("span",{className:"font-semibold",children:"Assets :"}),e.jsx("span",{children:(x=s==null?void 0:s.assets)==null?void 0:x.length})]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("span",{className:"font-semibold",children:"Sub-Task :"}),e.jsx("span",{children:(o=s==null?void 0:s.subTasks)==null?void 0:o.length})]})]}),e.jsxs("div",{className:"space-y-4 py-6",children:[e.jsx("p",{className:"text-gray-600 font-semibold test-sm",children:"TASK TEAM"}),e.jsx("div",{className:"space-y-3",children:(h=s==null?void 0:s.team)==null?void 0:h.map((a,n)=>e.jsxs("div",{className:"flex gap-4 py-2 items-center border-t border-gray-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full text-white flex items-center justify-center text-sm -mr-1 bg-blue-600",children:e.jsx("span",{className:"text-center",children:T(a==null?void 0:a.name)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:a==null?void 0:a.name}),e.jsx("span",{className:"text-gray-500",children:a==null?void 0:a.title})]})]},n))})]}),e.jsxs("div",{className:"space-y-4 py-6",children:[e.jsx("p",{className:"text-gray-500 font-semibold text-sm",children:"SUB-TASKS"}),e.jsx("div",{className:"space-y-8",children:(m=s==null?void 0:s.subTasks)==null?void 0:m.map((a,n)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-violet-50-200",children:e.jsx(A,{className:"text-violet-600",size:26})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:new Date(a==null?void 0:a.date).toDateString()}),e.jsx("span",{className:"px-2 py-0.5 text-center text-sm rounded-full bg-violet-100 text-violet-700 font-semibold",children:a==null?void 0:a.tag})]}),e.jsx("p",{className:"text-gray-700",children:a==null?void 0:a.title})]})]},n))})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 space-y-8",children:[e.jsx("p",{className:"text-lg font-semibold",children:"ASSETS"}),e.jsx("div",{className:"w-full grid grid-cols-2 gap-4",children:(l=s==null?void 0:s.assets)==null?void 0:l.map((a,n)=>e.jsx("img",{src:a,alt:s==null?void 0:s.title,className:"w-full rounded h-28 md:h-36 2xl:h-52 cursor-pointer transition-all duration-700 hover:scale-125 hover:z-50"},n))})]})]})}):e.jsx(e.Fragment,{children:e.jsx(Q,{activity:(t=c==null?void 0:c.task)==null?void 0:t.activities,id:r,refetch:i})})})]})},Q=({activity:r,id:c,refetch:p})=>{const[i,j]=g.useState(N[0]),[d,s]=g.useState(""),[x,{isLoading:o}]=O(),h=async()=>{var l;try{const t={type:i==null?void 0:i.toLowerCase(),activity:d},a=await x({data:t,id:c}).unwrap();s(""),f.success(a==null?void 0:a.message),p()}catch(t){console.log(t),f.error(((l=t==null?void 0:t.data)==null?void 0:l.message)||t.error)}},m=({item:l})=>{var t;return e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:q[l==null?void 0:l.type]}),e.jsx("div",{className:"w-full flex items-center",children:e.jsx("div",{className:"w-0.5 bg-gray-300 h-full"})})]}),e.jsxs("div",{className:"flex flex-col gap-y-1 mb-8",children:[e.jsx("p",{className:"font-semibold",children:(t=l==null?void 0:l.by)==null?void 0:t.name}),e.jsxs("div",{className:"text-gray-500 space-y-2",children:[e.jsx("span",{className:"capitalize",children:l==null?void 0:l.type}),e.jsx("span",{className:"text-sm",children:Z(l==null?void 0:l.createdAt).fromNow()})]}),e.jsx("div",{className:"text-gray-700",children:l==null?void 0:l.activity})]})]})};return e.jsxs("div",{className:"w-full flex gap-10 2xl:gap-20 min-h-screen px-10 py-8 bg-white shadow rounded-md justify-between overflow-y-auto",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx("h4",{className:"text-gray-600 font-semibold text-lg mb-5",children:"Activities"}),e.jsx("div",{className:"w-full",children:r==null?void 0:r.map((l,t)=>e.jsx(m,{item:l,isConnected:t<(r==null?void 0:r.length)-1},t))})]}),e.jsxs("div",{className:"w-full md:w-1/3",children:[e.jsx("h4",{className:"text-gray-600 font-semibold text-lg mb-5",children:"Add Activity"}),e.jsxs("div",{className:"w-full flex flex-wrap gap-5",children:[N.map((l,t)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:i===l,onChange:a=>j(l)}),e.jsx("p",{children:l})]},l)),e.jsx("textarea",{rows:10,value:d,onChange:l=>s(l.target.value),placeholder:"Type ......",className:"bg-white w-full mt-10 border border-gray-300 outline-none p-4 rounded-md focus:ring-2 ring-blue-500"}),o?e.jsx(v,{}):e.jsx(S,{type:"button",label:"Submit",onClick:h,className:"bg-blue-600 text-white rounded"})]})]})]})};export{$ as default};
