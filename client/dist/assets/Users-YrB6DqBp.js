import{r as c,a6 as C,at as k,au as T,j as e,B as x,a5 as U,av as D,A as n,h as S,f as O}from"./index-DP8FjTfo.js";import{T as E,C as M,U as H}from"./Title-BScR8jUY.js";const I=()=>{const[h,i]=c.useState(!1),[p,o]=c.useState(!1),[j,r]=c.useState(!1),[a,l]=c.useState(null),{data:d,isLoading:R,refetch:m}=C(),[u]=k(),[b]=T(),f=async()=>{var s;try{const t=await b({isActive:!(a!=null&&a.isActive),id:a==null?void 0:a._id});m(),n.success(t.data.message),l(null),setTimeout(()=>{r(!1)},500)}catch(t){console.log(t),n.error(((s=t==null?void 0:t.data)==null?void 0:s.message)||t.error)}},N=async()=>{var s;try{const t=await u(a);m(),n.success("User deleted successfully"),l(null),setTimeout(()=>{i(!1)},500)}catch(t){console.log(t),n.error(((s=t==null?void 0:t.data)==null?void 0:s.message)||t.error)}},g=s=>{l(s),i(!0)},y=s=>{l(s),o(!0)},v=s=>{l(s),r(!0)},w=()=>e.jsx("thead",{className:"border-b border-gray-300",children:e.jsxs("tr",{className:"text-black text-left",children:[e.jsx("th",{className:"py-2",children:"Full Name"}),e.jsx("th",{className:"py-2",children:"Title"}),e.jsx("th",{className:"py-2",children:"Email"}),e.jsx("th",{className:"py-2",children:"Role"}),e.jsx("th",{className:"py-2",children:"Active"})]})}),A=({user:s})=>e.jsxs("tr",{className:"border-b border-gray-200 text-gray-600 hover:bg-gray-400/10",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full text-white flex items-center justify-center text-sm bg-blue-700",children:e.jsx("span",{className:"text-xs md:text-sm text-center",children:S(s.name)})}),s.name]})}),e.jsx("td",{className:"p-2",children:s.title}),e.jsx("td",{className:"p-2",children:s.email||"user.emal.com"}),e.jsx("td",{className:"p-2",children:s.role}),e.jsx("td",{children:e.jsx("button",{onClick:()=>v(s),className:O("w-fit px-4 py-1 rounded-full",s!=null&&s.isActive?"bg-blue-200":"bg-yellow-100"),children:s!=null&&s.isActive?"Active":"Disabled"})}),e.jsxs("td",{className:"p-2 flex gap-4 justify-end",children:[e.jsx(x,{className:"text-blue-600 hover:text-blue-500 font-semibold sm:px-0",label:"Edit",type:"button",onClick:()=>y(s)}),e.jsx(x,{className:"text-red-700 hover:text-red-500 font-semibold sm:px-0",label:"Delete",type:"button",onClick:()=>g(s._id)})]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full md:px-1 px-0 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(E,{title:"  Team Members"}),e.jsx(x,{label:"Add New User",icon:e.jsx(U,{className:"text-lg"}),className:"flex flex-row-reverse gap-1 items-center bg-blue-600 text-white rounded-md 2xl:py-2.5",onClick:()=>o(!0)})]}),e.jsx("div",{className:"bg-white px-2 md:px-4 py-4 shadow-md rounded",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full mb-5",children:[e.jsx(w,{}),e.jsx("tbody",{children:d==null?void 0:d.map((s,t)=>e.jsx(A,{user:s},t))})]})})})]}),e.jsx(D,{open:p,setOpen:o,userData:a},new Date().getTime().toString()),e.jsx(M,{open:h,setOpen:i,onClick:N}),e.jsx(H,{open:j,setOpen:r,onClick:f})]})};export{I as default};
